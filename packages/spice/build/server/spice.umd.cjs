(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.spice={},i.jsxRuntime,i.React))})(this,function(i,e,g){"use strict";const b=({formProps:t})=>{const{style:r,...s}=t;return e.jsx("input",{...s,style:{overflow:"hidden",...r}})},S=({formProps:t})=>{const{isSelect:r,style:s,...a}=t;if(!r)return;const n=()=>{const l=r.defaultValue;return l?e.jsx("option",{hidden:!0,children:l}):null},c=()=>{const l=r.defaultSelectedIndex;if(l)return r.options[l]};return e.jsxs("select",{...a,style:{overflow:"hidden",fontSize:"16px",...s||{}},defaultValue:c(),children:[e.jsx(n,{}),r.options.map(l=>e.jsx("option",{value:l,children:l},l))]})},w={position:"absolute",whiteSpace:"nowrap",width:"1px",height:"1px",overflow:"hidden",border:"0",padding:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",zIndex:"-99999"},T=({layoutType:t,formPropsArr:r,label:s,FormItem:a,errors:n})=>{const c=({index:l})=>n?Array.isArray(n)?n[l]:n:null;if(t==="block")return e.jsxs(e.Fragment,{children:[s&&e.jsx("label",{htmlFor:r[0].id,children:s}),e.jsx(a,{formProps:r[0]}),e.jsx(c,{index:0})]});if(t==="flex")return e.jsxs(e.Fragment,{children:[s&&e.jsx("label",{htmlFor:r[0].id,children:s}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(a,{formProps:r[0]}),e.jsx(c,{index:0})]}),e.jsxs("li",{children:[e.jsx(a,{formProps:r[1]}),e.jsx(c,{index:1})]})]})]});if(t==="radio-check"){const l=r.map(({id:o,value:d,style:f,optionLabel:p,...u})=>e.jsxs("li",{children:[e.jsx(a,{formProps:{id:o,value:d,style:{...w,...f||{}},...u}}),e.jsx("label",{htmlFor:o,children:p||d})]},o));return e.jsxs(e.Fragment,{children:[s&&e.jsx("label",{children:s}),e.jsx("ul",{children:l}),e.jsx(c,{index:0})]})}},B=({formProps:t})=>{const{isTextarea:r,...s}=t;if(r)return e.jsx("textarea",{...s,...r})},C=({label:t,formProps:r,errors:s,...a})=>{if(s&&Array.isArray(s)&&s.length>2)throw new Error("The length of error is up to 2.");const n=Array.isArray(r)?r:[r],{type:c,isSelect:l,isTextarea:o}=n[0],d=n.length;if(!(c==="radio"||c==="checkbox")&&d>2)throw new Error("The length of formProps is up to 2.");const f=["radio","checkbox"].includes(c||"")?"radio-check":d===1?"block":"flex";return e.jsx("fieldset",{...a,children:e.jsx(T,{layoutType:f,formPropsArr:n,label:t,errors:s,FormItem:l?S:o?B:b})})},h={regex:/(\n|###br\.[^#]+###|###br###)/,isRegularBreak:t=>t===`
`||t==="###br###",isSpecificBreak:t=>t.match(/###br\.(.*?)###/),getClassName:t=>{var r;return((r=t.match(new RegExp("(?<=###br\\.).+?(?=###)")))==null?void 0:r[0])||""}},k=t=>g.useMemo(()=>t.split(h.regex).map((r,s)=>h.isRegularBreak(r)?e.jsx("br",{},s):h.isSpecificBreak(r)?e.jsx("br",{className:h.getClassName(r)},s):r),[t]),F=({text:t})=>{const r=k(t);return e.jsx(e.Fragment,{children:r})},x=({containerProps:t,...r})=>t?e.jsx("span",{...t,children:e.jsx("span",{...r})}):e.jsx("span",{...r}),L=({type:t="chars",text:r,exception:s,containerProps:a,...n})=>{const c=t==="chars"?"":" ";return g.useMemo(()=>r.split(h.regex).flatMap((o,d)=>h.isRegularBreak(o)?[null,e.jsx("br",{},d)]:h.isSpecificBreak(o)?[null,e.jsx("br",{className:h.getClassName(o)},d)]:[...o.split(c).map((f,p)=>{if(s){const u=s.find(V=>V.selector===f);if(u)return e.jsx(x,{containerProps:a,...n,...u.attributes,children:f},`${d}-${p}`)}return e.jsx(x,{containerProps:a,...n,children:f===" "?"Â ":f},`${d}-${p}`)}),null]),[c,r,n,s,a])},y=g.forwardRef((t,r)=>{const{fill:s,style:a,...n}=t;return e.jsx("video",{ref:r,style:s?{position:"absolute",width:"100%",height:"100%",inset:0,color:"transparent",...a}:a,...n})});y.displayName="Video",i.CustomBreakLineParser=F,i.CustomBreakLineUtils=h,i.FormField=C,i.SplitText=L,i.Video=y,i.useParseBreakLine=k,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=spice.umd.cjs.map
