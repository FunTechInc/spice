(function(g,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("react/jsx-runtime"),require("react"),require("gsap"),require("gsap/ScrollTrigger")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","gsap","gsap/ScrollTrigger"],c):(g=typeof globalThis<"u"?globalThis:g||self,c(g.spice={},g.jsxRuntime,g.React,g.gsap,g.ScrollTrigger))})(this,function(g,c,o,m,I){"use strict";"use client";const Q=({formProps:t})=>{const{style:e,...n}=t;return c.jsx("input",{...n,style:{overflow:"hidden",...e}})},U=({formProps:t})=>{const{isSelect:e,style:n,...r}=t;if(!e)return null;const{defaultSelectedIndex:s,options:i}=e;return c.jsx("select",{...r,style:{overflow:"hidden",fontSize:"16px",...n||{}},defaultValue:s&&i[s],children:i.map((l,u)=>c.jsx("option",{value:l,children:l},u))})},Y={position:"absolute",whiteSpace:"nowrap",width:"1px",height:"1px",overflow:"hidden",border:"0",padding:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",zIndex:"-99999"},J=({layoutType:t,formPropsArr:e,label:n,FormItem:r,errors:s})=>{const i=({index:l})=>s?Array.isArray(s)?s[l]:s:null;if(t==="block")return c.jsxs(c.Fragment,{children:[n&&c.jsx("label",{htmlFor:e[0].id,children:n}),c.jsx(r,{formProps:e[0]}),c.jsx(i,{index:0})]});if(t==="flex")return c.jsxs(c.Fragment,{children:[n&&c.jsx("label",{htmlFor:e[0].id,children:n}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx(r,{formProps:e[0]}),c.jsx(i,{index:0})]}),c.jsxs("li",{children:[c.jsx(r,{formProps:e[1]}),c.jsx(i,{index:1})]})]})]});if(t==="radio-check"){const l=e.map(({id:u,value:a,style:b,optionLabel:f,...d})=>c.jsxs("li",{children:[c.jsx(r,{formProps:{id:u,value:a,style:{...Y,...b||{}},...d}}),c.jsx("label",{htmlFor:u,children:f||a})]},u));return c.jsxs(c.Fragment,{children:[n&&c.jsx("label",{children:n}),c.jsx("ul",{children:l}),c.jsx(i,{index:0})]})}},Z=({formProps:t})=>{const{isTextarea:e,...n}=t;return e?c.jsx("textarea",{...n,...e}):null},R=({label:t,formProps:e,errors:n,...r})=>{if(n&&Array.isArray(n)&&n.length>2)throw new Error("The length of error is up to 2.");const s=Array.isArray(e)?e:[e],{type:i,isSelect:l,isTextarea:u}=s[0],a=s.length;if(!(i==="radio"||i==="checkbox")&&a>2)throw new Error("The length of formProps is up to 2.");const b=["radio","checkbox"].includes(i||"")?"radio-check":a===1?"block":"flex";return c.jsx("fieldset",{...r,children:c.jsx(J,{layoutType:b,formPropsArr:s,label:t,errors:n,FormItem:l?U:u?Z:Q})})},L=t=>new Promise(e=>{t instanceof Promise?t.then(()=>{e(null)}):e(null)}),ee={border:"none",background:"none",maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",padding:"0",pointerEvents:"auto"},E={close:"spice__modal_close",scrollArea:"js_modal_scroll_area"},M=()=>parseInt(getComputedStyle(document.documentElement).paddingRight,10)||0,te=()=>window.innerWidth-document.documentElement.clientWidth,A=(t,{paddingRight:e,scrollbarWidth:n})=>{const r=document.documentElement.style,s=document.body.style,i=t?e+n:e-n;r.paddingRight=`${i}px`,r.scrollbarGutter=t?"auto":"",s.overflow=t?"hidden":""},$=o.forwardRef(({dialog:t,onOpen:e,onClose:n,focusTarget:r,scrollLock:s=!0,...i},l)=>{const u=o.useRef(null),a=o.useRef({paddingRight:0,scrollbarWidth:0}),b=o.useCallback(()=>{var d,h,w;s&&(a.current.paddingRight=M(),a.current.scrollbarWidth=te(),A(!0,a.current)),u.current.showModal(),(d=r==null?void 0:r.current)==null||d.focus(),(w=(h=u.current)==null?void 0:h.getElementsByClassName(E.scrollArea)[0])==null||w.scrollTo(0,0),e==null||e(u.current)},[e,r,s]),f=o.useCallback(async()=>{n&&await L(n(u.current)),s&&(a.current.paddingRight=M(),A(!1,a.current)),u.current.close()},[n,s]);return o.useEffect(()=>{const d=u.current.querySelectorAll(`.${E.close}`);if(d)return d.forEach(h=>h.addEventListener("click",f)),()=>d.forEach(h=>h.removeEventListener("click",f))},[f]),o.useEffect(()=>{const d=h=>{var p;((p=u.current)==null?void 0:p.hasAttribute("open"))&&h.key==="Escape"&&f()};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[f]),c.jsxs(c.Fragment,{children:[c.jsx("button",{ref:l,...i,onClick:d=>{var h;b(),(h=i==null?void 0:i.onClick)==null||h.call(i,d)}}),c.jsx("dialog",{ref:u,...t,onClick:d=>{var h;d.target===u.current&&f(),(h=t.onClick)==null||h.call(t,d)},style:{...ee,...t.style||{}}})]})});$.displayName="ModalButton";const ne={isLeaving:!1,isAnimation:!0,prev:"",current:"",next:""},O=o.createContext(ne),P=o.createContext(()=>{}),re=({children:t,defaultValue:e})=>{if(e==="")throw new Error("Please set the value to something other than an empty string.");const[n,r]=o.useState({isLeaving:!1,isAnimation:!0,prev:"",current:e,next:""});return c.jsx(O.Provider,{value:n,children:c.jsx(P.Provider,{value:r,children:t})})},B=()=>o.useContext(O),k=()=>o.useContext(P),oe=({children:t,value:e,...n})=>{if(e==="")throw new Error("Please set the value to something other than an empty string.");const r=k(),s=B(),i=o.useCallback(()=>{s.current===e||s.isLeaving||r(l=>({...l,isLeaving:!0,isAnimation:!0,prev:l.current,next:e}))},[r,s,e]);return c.jsx("button",{onClick:i,role:"tab","aria-controls":`tab-${e}`,"aria-selected":s.current===e,...n,children:t})},D=({content:t,isOpen:e})=>{const n=t.querySelectorAll("a,button");if(!n)return;const r=e?"0":"-1";n.forEach(s=>{s.setAttribute("tabindex",r)})},se=Object.freeze(Object.defineProperty({__proto__:null,Button:oe,Content:({children:t,value:e,onOpen:n,onClose:r,onReset:s,style:i,...l})=>{if(e==="")throw new Error("Please set the value to something other than an empty string.");const u=o.useRef(!0),a=o.useRef(null),b=k(),f=B(),d=f.current===e&&!f.isLeaving;return o.useEffect(()=>{if(u.current){u.current=!1;return}if(!f.isAnimation){d&&s&&s(a.current);return}f.prev===e&&(async()=>(r&&await L(r(a.current)),b(h=>({...h,isLeaving:!1,prev:"",current:h.next,next:""}))))(),d&&n&&n(a.current)},[f,b,n,r,s,e,d]),o.useEffect(()=>{D({content:a.current,isOpen:f.current===e})},[f,e]),c.jsx("div",{ref:a,style:{...f.current!==e?{pointerEvents:"none",position:"absolute",visibility:"hidden",opacity:0,display:"none"}:{},...i},role:"tabpanel",id:`tab-${e}`,"aria-hidden":f.current!==e,...l,children:t})},Context:re,useTabSwitch:()=>{const t=k();return(e,n)=>{t(r=>({isAnimation:n,isLeaving:n,prev:n?r.current:"",current:n?r.current:e,next:n?e:""}))}}},Symbol.toStringTag,{value:"Module"})),ie={target:"",toggle:!1,defaultValue:[]},_=o.createContext(ie),F=o.createContext(()=>{}),ce=({children:t,defaultValue:e=[]})=>{const[n,r]=o.useState({target:"",toggle:!1,defaultValue:e});return c.jsx(_.Provider,{value:n,children:c.jsx(F.Provider,{value:r,children:t})})},W=()=>o.useContext(_),ue=()=>o.useContext(F),le=({children:t,value:e,...n})=>{if(e==="")throw new Error("Please set the value to something other than an empty string.");const r=W(),s=ue(),[i,l]=o.useState(()=>!!r.defaultValue.find(u=>u===e));return c.jsx("button",{onClick:()=>{s(u=>({...u,toggle:i,target:e})),l(!i)},"aria-controls":`content-${e}`,id:`button-${e}`,"aria-expanded":i,...n,children:t})},N=({target:t,onResize:e,debounce:n=100}={},r)=>{const s=o.useRef(null),i=o.useRef(0),l=o.useRef(!0);return o.useEffect(()=>{const u=t instanceof Element?t:(t==null?void 0:t.current)??s.current;if(!u)return;const a=new ResizeObserver(b=>{clearTimeout(i.current),i.current=setTimeout(()=>{if(l.current){l.current=!1;return}e==null||e(b[0].target)},n)});return a.observe(u),()=>{a.unobserve(u),clearTimeout(i.current)}},r),s},ae=Object.freeze(Object.defineProperty({__proto__:null,Button:le,Content:({value:t,onOpen:e,onClose:n,children:r,...s})=>{if(t==="")throw new Error("Please set the value to something other than an empty string.");const i=W(),[l,u]=o.useState(()=>!!i.defaultValue.find(h=>h===t)),a=o.useRef(l);o.useEffect(()=>{i.target===t&&u(!l)},[i.target,i.toggle]);const b=o.useRef(!0),f=o.useRef(null),d=o.useRef(null);return o.useEffect(()=>{if(b.current){b.current=!1;return}const h={height:d.current.getBoundingClientRect().height,target:f.current};l?e(h):n(h)},[l,e,n]),o.useEffect(()=>{D({content:f.current,isOpen:l})},[l]),N({target:d,onResize:h=>{const w=h.getBoundingClientRect().height;l&&(f.current.style.height=`${w}px`)},debounce:100},[l]),c.jsx("div",{ref:f,style:{overflow:"hidden",height:a.current?"auto":"0px"},id:`content-${t}`,"aria-labelledby":`button-${t}`,"aria-hidden":!l,children:c.jsx("div",{ref:d,...s,children:r})})},Context:ce},Symbol.toStringTag,{value:"Module"})),H=({target:t,options:e,once:n=!1,onEnter:r,onLeave:s}={},i)=>{const l=o.useRef(null),[u,a]=o.useState(!1);return o.useEffect(()=>{const b=t instanceof Element?t:(t==null?void 0:t.current)??l.current;if(!b)return;const f=(h,w)=>{h.forEach(p=>{a(p.isIntersecting),p.isIntersecting?(r&&r(p),n&&w.unobserve(p.target)):p.isIntersecting||s&&s(p)})},d=new IntersectionObserver(f,e);return d.observe(b),()=>{d.unobserve(b)}},i),{ref:l,isIntersecting:u}},S=typeof window<"u"?o.useLayoutEffect:o.useEffect;function de(t){const e=o.useRef(t);return S(()=>void(e.current=t),[t]),e}const T=(t,e,n)=>{const r=de(t);S(()=>{const s=(...i)=>r.current(...i);return m.ticker.add(s,e,n),()=>m.ticker.remove(s)},[e,n])},x=o.forwardRef(({active:t=!1,speed:e=1,children:n,...r},s)=>{const i=o.useRef(null),l=o.useRef(null),u=o.useRef(null),a=o.useRef(0);return T(()=>{if(!t)return;const b=i.current,f=l.current,d=u.current;if(!(b&&f&&d))return;const h=m.ticker.deltaRatio()/1e3,w=b.clientWidth/f.clientWidth;if(a.current+=h*Math.abs(e)*w,a.current>=1&&(a.current=0),e<0){const p=a.current*-100;f.style.transform=`translateX(${p}%)`,d.style.transform=`translateX(${p}%)`}else{const p=a.current*100;f.style.transform=`translateX(${p}%)`,d.style.transform=`translateX(${p-200}%)`}}),c.jsx("div",{ref:s,...r,children:c.jsx("div",{ref:i,style:{overflow:"hidden",width:"100%"},children:c.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex"},children:[c.jsx("div",{ref:l,children:n}),c.jsx("div",{ref:u,children:n})]})})})});x.displayName="InfinityLoop";const fe=t=>{const{isIntersecting:e,ref:n}=H({once:!1});return c.jsx(x,{ref:n,...t,active:e})},v={regex:/(\n|###br\.[^#]+###|###br###)/,isRegularBreak:t=>t===`
`||t==="###br###",isSpecificBreak:t=>t.match(/###br\.(.*?)###/),getClassName:t=>{var e;return((e=t.match(new RegExp("(?<=###br\\.).+?(?=###)")))==null?void 0:e[0])||""}},z=t=>o.useMemo(()=>t.split(v.regex).map((e,n)=>v.isRegularBreak(e)?c.jsx("br",{},n):v.isSpecificBreak(e)?c.jsx("br",{className:v.getClassName(e)},n):e),[t]),he=({children:t})=>{const e=z(t);return c.jsx(c.Fragment,{children:e})},X=({containerProps:t,...e})=>t?c.jsx("span",{...t,children:c.jsx("span",{...e})}):c.jsx("span",{...e}),ge=({type:t="chars",children:e,exception:n,containerProps:r,...s})=>{const i=t==="chars"?"":" ";return o.useMemo(()=>e.split(v.regex).flatMap((u,a)=>v.isRegularBreak(u)?[null,c.jsx("br",{},a)]:v.isSpecificBreak(u)?[null,c.jsx("br",{className:v.getClassName(u)},a)]:[...u.split(i).map((b,f)=>{if(n){const d=n.find(h=>h.selector===b);if(d)return c.jsx(X,{containerProps:r,...s,...d.attributes,children:b},`${a}-${f}`)}return c.jsx(X,{containerProps:r,...s,children:b===" "?"Â ":b},`${a}-${f}`)}),null]),[i,e,s,n,r])},j=o.forwardRef((t,e)=>{const{fill:n,style:r,...s}=t;return c.jsx("video",{ref:e,style:n?{position:"absolute",width:"100%",height:"100%",inset:0,color:"transparent",...r}:r,...s})});j.displayName="Video";const q=o.forwardRef(({loader:t="skeleton",delay:e=1e3,onView:n,skeleton:r,circular:s,children:i,style:l,...u},a)=>{const[b,f]=o.useState(e===0),d=!!i;return o.useEffect(()=>{e!==0&&setTimeout(()=>f(!0),e)},[e]),c.jsx("div",{ref:a,style:{overflow:"hidden",pointerEvents:"none",...d?{maxWidth:"fit-content",height:"auto"}:{},...l},...u,children:c.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",opacity:0,...b?{opacity:1,transitionProperty:"opacity",transitionDuration:(n==null?void 0:n.transitionDuration)||"0.3s",transitionTimingFunction:(n==null?void 0:n.transitionTimingFunction)||"ease-in-out"}:{}},children:[t==="skeleton"?c.jsx("div",{style:{background:`linear-gradient(90deg,transparent,${(r==null?void 0:r.waveColor)||"rgba(255,255,255,0.64)"},transparent)`,animationDuration:(r==null?void 0:r.animationDuration)||"1.6s",animationTimingFunction:(r==null?void 0:r.animationTimingFunction)||"ease-in-out",position:"absolute",width:"100%",height:"100%",top:0,left:0,animationName:"skeleton",animationIterationCount:"infinite"},children:c.jsx("style",{children:"@keyframes skeleton {0% {transform: translateX(-100%);}100% {transform: translateX(100%);}}"})}):t==="circular"?c.jsx("div",{style:{width:s!=null&&s.width?s==null?void 0:s.width:"24px",height:s!=null&&s.height?s==null?void 0:s.height:"24px",border:(s==null?void 0:s.border)||"2px solid #fff",borderBottomColor:"transparent",animationDuration:(r==null?void 0:r.animationDuration)||"1.6s",animationTimingFunction:(r==null?void 0:r.animationTimingFunction)||"linear",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",borderRadius:"50%",animationName:"circular",animationIterationCount:"infinite"},children:c.jsx("style",{children:"@keyframes circular {0% {transform: rotate(0deg);}100% {transform: rotate(360deg);}}"})}):t,d&&c.jsx("div",{style:{visibility:"hidden"},children:i})]})})});q.displayName="Loader";const G=o.createContext(void 0),be=()=>o.useContext(G),pe=({active:t=!0,style:e,...n})=>{const r=o.useRef(null),{isMobile:s}=V(),i=t&&s,[l,u]=o.useState(void 0);return S(()=>{i&&r.current?u(r.current):u(void 0)},[i]),c.jsx(G.Provider,{value:l,children:c.jsx("div",{ref:r,style:{...i?{height:"100svh",overflowY:"auto"}:{},...e},...n})})},C=({onResize:t,debounce:e=100,dependencies:n=[]})=>{const r=o.useRef(0),s=o.useRef(0),i=o.useCallback(()=>{clearTimeout(s.current),s.current=setTimeout(()=>{t({winW:window.innerWidth,winH:window.innerHeight,initWinW:r.current})},e)},[t,e]);o.useEffect(()=>(r.current=window.innerWidth,window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),clearTimeout(s.current)}),n)},we=`
Created by FunTech with ðŸ˜˜

ðŸ‘‰ https://funtech.inc/
ðŸ‘‰ https://github.com/FunTechInc

`,ve=t=>{let e=we;typeof t=="string"&&(e+=t),console.log(e)},Se=t=>{const e=document.querySelector('meta[name="viewport"]');if(!e)return;const n=t>360?"width=device-width,initial-scale=1":"width=360";e.getAttribute("content")!==n&&e.setAttribute("content",n)},ye=({isFixViewportForSmall:t=!0,areYouFun:e=!1}={})=>{const n=o.useCallback(r=>{t&&Se(r)},[t]);C({onResize:({winW:r})=>n(r),debounce:100,dependencies:[]}),o.useEffect(()=>{document.body.dataset.spiceRendered="true",n(window.innerWidth),e&&process.env.NODE_ENV!=="development"&&ve(e)},[e,n])},me=()=>{const[t,e]=o.useState(null),n=o.useCallback(()=>{const r=window.ontouchstart,s=navigator.maxTouchPoints;r!==void 0&&0<s?e(!0):e(!1)},[]);return C({onResize:()=>n(),debounce:100,dependencies:[]}),o.useEffect(()=>n(),[n]),t},Ce=(t,e)=>{const[n,r]=o.useState(null),s=o.useCallback(i=>{switch(t){case"max":r(e>=i);break;case"min":r(e<=i);break}},[t,e]);return C({onResize:({winW:i})=>s(i),debounce:100,dependencies:[s]}),o.useEffect(()=>s(window.innerWidth),[s]),n},Ee=({shareUrl:t,sharePath:e,shareTitle:n="",width:r=600,height:s=800})=>{const i=o.useMemo(()=>encodeURIComponent(t),[t]),l=o.useMemo(()=>`height=${s},width=${r}`,[s,r]),u=o.useMemo(()=>({onClick:()=>{window.open(`https://www.facebook.com/sharer.php?u=${i}&t=${n}`,"newwindow",l)}}),[i,n,l]),a=o.useMemo(()=>({onClick:()=>{window.open(`https:////twitter.com/share?url=${i}&text=${n}`,"newwindow",l)}}),[i,l,n]),b=o.useMemo(()=>({onClick:()=>{window.open(`https://social-plugins.line.me/lineit/share?url=${i}&text=${n}`,"newwindow",l)}}),[i,l,n]),f=o.useMemo(()=>({onClick:async()=>{if(!navigator.share){alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯å…±æœ‰æ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚");return}try{await window.navigator.share({title:n,url:e||i})}catch{return}}}),[n,i,e]),[d,h]=o.useState(!1),w=o.useMemo(()=>({onClick:()=>{navigator.clipboard.writeText(t).then(()=>{h(!0)})}}),[t]);return{Facebook:u,X:a,LINE:b,share:f,copy:w,isCopied:d}},ke=t=>{if(/\b(iPad|iPhone|iPod)\b/.test(t))return"iOS";if(/\bAndroid\b/i.test(t))return"Android"},Te=t=>{if(/Gecko\/\d+/i.test(t)&&!/like Gecko/i.test(t))return"Gecko";if(/AppleWebKit\/\d+/i.test(t)&&/like Gecko/i.test(t))return"WebKit";if(/Opera\/\d+/i.test(t))return"Presto";if(/Trident\/\d+/i.test(t))return"Trident";if(/Edge\/\d+/i.test(t))return"EdgeHTML";if(/Chrome\/\d+/i.test(t))return"Blink"},V=t=>{const[e,n]=o.useState({mobileOS:void 0,isMobile:void 0,renderingEngine:void 0,userAgent:"",testing:void 0});return S(()=>{const r=navigator.userAgent,s=ke(r),i=Te(r);n({mobileOS:s,isMobile:/Mobi/.test(r),renderingEngine:i,userAgent:r,testing:t&&t(r)})},[]),e},xe=t=>{const[e,n]=o.useState(!1),r=o.useRef();T(()=>{e&&r.current&&t(r.current)});const s=o.useCallback(u=>{r.current=u,n(!0)},[]),i=o.useCallback(()=>{r.current=void 0,n(!1)},[]),l=o.useCallback(u=>{r.current=u},[]);return{onPointerEnter:s,onPointerLeave:i,onPointerMove:l}},Ie=t=>{const[e,n]=o.useState();return o.useEffect(()=>{t&&t.current&&n(t.current)},[t]),e},K=(t,e)=>!!(t!=null&&t.includes(e)),Le=(t,{reactive:e=[],dependencies:n=[]}={})=>{const[r,s]=o.useState(!1),[i,l]=o.useState(!1),u=o.useRef(),a=o.useRef(null),b=o.useCallback((f,d=4,h=.001)=>{if(!u.current)return 0;d=Math.max(d,0);const{progress:w}=u.current;a.current===null&&(a.current=w),a.current=m.utils.interpolate(a.current,w,f);const p=Math.pow(10,d);return a.current=Math.round(a.current*p)/p,a.current<h?0:1-a.current<h?1:a.current},[]);return S(()=>{const{onUpdate:f,onToggle:d,trigger:h,...w}=t;if(!h)return;m.registerPlugin(I);const p=I.create({...w,trigger:h,onToggle:y=>{d==null||d(y),K(e,"isActive")&&s(y.isActive)},onUpdate:y=>{u.current=y,f==null||f(y),K(e,"direction")&&l(y.direction)}});return()=>p.kill()},n),{isActive:r,direction:i,lerpProgress:b,scrollTrigger:u}};g.Accordion=ae,g.CustomBreakLineParser=he,g.CustomBreakLineUtils=v,g.FormField=R,g.InfinityLoop=x,g.InfinityLoopOnView=fe,g.Loader=q,g.MODAL_CLASSNAME=E,g.ModalButton=$,g.SplitText=ge,g.StableScroller=pe,g.Tab=se,g.Video=j,g.useDeviceDetector=V,g.useFrame=T,g.useIntersectionObserver=H,g.useIsTouchDevice=me,g.useIsomorphicLayoutEffect=S,g.useMediaQuery=Ce,g.useOnHovering=xe,g.useParsedBreakLine=z,g.useResizeObserver=N,g.useScrollTrigger=Le,g.useShare=Ee,g.useStableScroller=be,g.useStarter=ye,g.useValidElement=Ie,g.useWindowResizeObserver=C,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=spice.umd.cjs.map
